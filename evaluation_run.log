================================================================================
# CLaMP3 MODEL EVALUATION - BASELINE vs LoRA ADAPTERS
================================================================================

Start Time: Sat Dec  6 21:28:25 PST 2025
Log File: /Users/kaitlynt/291A-clamp3/evaluation_20251206_212825.log

================================================================================
STEP 1: PREPARING TEST DATA
================================================================================

################################################################################
# CLaMP3 EVALUATION DATA PREPARATION
# WikiMT-X (ABC Leadsheets) + Lakh MIDI Dataset (MTF)
################################################################################

================================================================================
PREPARING WikiMT-X ABC DATASET
================================================================================
Reading WikiMT-X JSONL file: /Users/kaitlynt/291A-clamp3/data/test/wikimt-x/wikimt-x-public.jsonl
Extracting leadsheets:   0%|          | 0/1000 [00:00<?, ?it/s]Extracting leadsheets:  10%|â–ˆ         | 100/1000 [00:00<00:00, 2045.86it/s]
âœ“ Extracted 100 ABC files to: /Users/kaitlynt/291A-clamp3/data/test/wikimt_abc
âœ“ Saved metadata with rich annotations
âœ“ Location: /Users/kaitlynt/291A-clamp3/data/test/wikimt_abc

================================================================================
PREPARING LAKH MTF DATASET
================================================================================
Scanning for MIDI files in: /Users/kaitlynt/291A-clamp3/data/test/lmd_matched
  (This may take a moment for large datasets...)
âœ“ Found 116189 MIDI files
  Selected 100 random files for conversion

Copying 100 MIDI files to temporary directory...
Copying MIDI files:   0%|          | 0/100 [00:00<?, ?it/s]Copying MIDI files: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 100/100 [00:00<00:00, 1005.14it/s]

Converting MIDI to MTF format...
Running: /Users/kaitlynt/anaconda3/bin/python /Users/kaitlynt/291A-clamp3/preprocessing/midi/batch_midi2mtf.py /Users/kaitlynt/291A-clamp3/data/test/temp_midi_subset /Users/kaitlynt/291A-clamp3/data/test/lakh_mtf --m3_compatible
âš  Conversion had issues:
Traceback (most recent call last):
  File "/Users/kaitlynt/291A-clamp3/preprocessing/midi/batch_midi2mtf.py", line 3, in <module>
    import mido
ModuleNotFoundError: No module named 'mido'

âœ“ Converted 10 MIDI files to MTF format

Cleaning up temporary files...
âœ“ Saved 10 MTF files with metadata
âœ“ Location: /Users/kaitlynt/291A-clamp3/data/test/lakh_mtf

================================================================================
DATASET PREPARATION COMPLETE
================================================================================

ðŸ“Š ABC Dataset (WikiMT-X):
  Location: /Users/kaitlynt/291A-clamp3/data/test/wikimt_abc
  Files: 100 ABC files
  Format: Standard ABC notation
  Annotations: Rich (title, description, analysis, etc.)
  Source: data/test/wikimt-x/wikimt-x-public.jsonl

ðŸŽ¹ MTF Dataset (Lakh MIDI):
  Location: /Users/kaitlynt/291A-clamp3/data/test/lakh_mtf
  Files: 10 MTF files
  Format: MTF (M3-compatible MIDI text format)
  Annotations: Minimal (file path descriptions)
  Source: /Users/kaitlynt/291A-clamp3/data/test/lmd_matched

================================================================================
NEXT STEPS
================================================================================

1. Test pipeline integrity:
   python test_pipeline.py

2. Evaluate baseline model:
   python evaluate_baseline.py

3. Evaluate LoRA adapters:
   python evaluate_lora.py

4. Compare results:
   python compare_results.py

Or run complete evaluation:
   bash run_evaluation.sh


================================================================================
STEP 2: VERIFYING PIPELINE INTEGRITY
================================================================================
Running pipeline test script...
Traceback (most recent call last):
  File "/Users/kaitlynt/291A-clamp3/test_pipeline.py", line 13, in <module>
    import torch
ModuleNotFoundError: No module named 'torch'
âš  Pipeline verification FAILED
Some tests may have failed. Check output above for details.

================================================================================
STEP 3: EVALUATING BASELINE MODEL
================================================================================
Evaluating original CLaMP3 model (without LoRA adapters)...
Traceback (most recent call last):
  File "/Users/kaitlynt/291A-clamp3/evaluate_baseline.py", line 14, in <module>
    import torch
ModuleNotFoundError: No module named 'torch'
âœ— Baseline evaluation FAILED
Check output above for details.

================================================================================
STEP 4: EVALUATING LoRA ADAPTERS
================================================================================
Evaluating CLaMP3 with specialized LoRA adapters...
Traceback (most recent call last):
  File "/Users/kaitlynt/291A-clamp3/evaluate_lora.py", line 15, in <module>
    import torch
ModuleNotFoundError: No module named 'torch'
âœ— LoRA adapter evaluation FAILED
Check output above for details.

================================================================================
STEP 5: COMPARING RESULTS
================================================================================
Generating comparison report...

################################################################################
# EVALUATION COMPARISON
# Baseline vs LoRA Adapters
################################################################################

================================================================================
LOADING EVALUATION RESULTS
================================================================================
âš  Baseline results not found: /Users/kaitlynt/291A-clamp3/evaluation_baseline_report.json
âš  LoRA results not found: /Users/kaitlynt/291A-clamp3/evaluation_lora_report.json

âœ— No evaluation results found.
Expected files:
  - /Users/kaitlynt/291A-clamp3/evaluation_baseline_report.json
  - /Users/kaitlynt/291A-clamp3/evaluation_lora_report.json
âœ— Comparison FAILED
This may be expected if evaluation reports don't exist.

================================================================================
EVALUATION COMPLETE
================================================================================

Generated Files:
  - evaluation_baseline_report.json      (Baseline model metrics)
  - evaluation_lora_report.json          (LoRA adapter metrics)
  - evaluation_comparison_report.json    (Detailed comparison)
  - evaluation_summary.txt               (Human-readable summary)

View Results:
  cat evaluation_summary.txt             (Text summary)
  cat evaluation_comparison_report.json  (Detailed comparison)

End Time: Sat Dec  6 21:28:36 PST 2025

================================================================================
âœ“ EVALUATION PIPELINE COMPLETE
================================================================================
